# 풀 테이블 스캔
- MariaDB 옵티마이저 풀테이블 스캔 조건
> - 테이블의 레코드 건수가 너무 작아서 인덱스를 통해 읽는 것보다 풀 테이블 스캔을 하는 편이 더 빠른 경우(일반적으로 페이지 1개)  
>  - WHERE 절이나 ON 절에 인덱스를 이용할 수 있는 적절한 조건이 없는 경우
>  - 인덱스 레인지 스캔을 사용할 수 있는 쿼리라 하더라도 옵티마이저가 판단한 조건 일치 레코드 건수가 너무 많은 경우 (인덱스의 B-Tree를 샘플링해서 조사한 통계 정보 기준, max_seeks_for_key 변수를 특정 값(N)으로 설정하면 기준 변경 가능)
- InnoDB나 XtraDB 스토리지 엔진은 특정 테이블의 연속된 데이터 페이지가 읽히면 백그라운드 스레드에 의해 리드 어헤드(Read ahead) 작업이 자동으로 시작된다.
> **리드 어헤드** 란 어떤 영역의 데이터가 앞으로 필요해지리라는 것을 예측해서 요청이 오기 전에 미리 디스크에 읽어 XtraDB의 버퍼풀에 가져다 두는 것을 의미한다.
- MariaDb의 XtraDB에서는 언제 리드 어헤드를 시작할지 시스템 변수를 이용해 변경할 수 있다. 그 시스템 변수의 이름이 **innodb_read_ahead_threshole** 인데, 일반적으로 디폴트 설정으로도 충분하지만 데이터웨어하우스용으로 MariaDB를 사용한다면 이 옵션을 더 낮은 값으로 설정해서 더 자주 리드 어헤드가 시작되도록 유도하는 것도 좋은 방법이다.